#include<stdio.h>
int main()
{
int i,j,n,tq,time=0,p[10],st[10],b[10],str[10],ft[10],tat[10],wt[10];
float avg1=0,avg2=0;
printf("enter the number of processes and time quantum");
scanf("%d%d",&n,&tq);
printf("enter the process number and service time");
for(i=0;i<n;i++)
{
scanf("%d%d",&p[i],&st[i]);
}
for(i=0;i<n;i++)
{
b[i]=st[i];
}
str[0]=0;
for(i=1;i<n;i++)
{
str[i]=str[i-1]+tq;
}
for(i=0;i<n;i++)
{
while(b[i]!=0)
{
for(j=0;j<n;j++)
{
if(b[j]==0)
{
continue;
}
if(b[j]>tq)
{
b[j]=b[j]-tq;
time=time+tq;
}
else
{
time=time+b[j];
b[j]=0;
ft[j]=time;
}
}
}
}
for(i=0;i<n;i++)
{
tat[i]=ft[i];
wt[i]=ft[i]-st[i];
avg1=avg1+tat[i];
avg2=avg2+wt[i];
}
printf("\n pnost\t ft \t tat\t wt");
for(i=0;i<n;i++)
{
printf("\n %d\t %d\t %d\t %d\t %d\t ",p[i],st[i],ft[i],tat[i],wt[i]);
}
printf("\n average tat is %f\n average wt is %f",(avg1/n),(avg2/n));
}
